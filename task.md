# Тестовое задание Backend PHP Middle+

## Управление заказами через консоль.

### Задача:
Необходимо разработать консольное приложение для управления заказами в системе. Приложение должно позволять:

1. Создавать заказы.
2. Получать список всех заказов.
3. Получать детали конкретного заказа по его ID.

#### Каждый заказ содержит следующую информацию:
* ID заказа (генерируется автоматически).
* Дата создания.
* Товары (заказ может содержать несколько товаров).
  * Наименование товара.
  * Количество единиц товара.
  * Цена за единицу товара.
  * Общая стоимость (вычисляется автоматически как количество * цена).
* Количество товаров (вычисляется автоматически).
* Суммарное количество единиц всех товаров (сумма количества единиц всех товаров).
* Общая стоимость всех товаров (вычисляется автоматически как сумма стоимости всех товаров).

### Требования:
1. Использовать PHP 8.3 и Laravel 10.
2. Организовать проект в Docker-контейнере.
3. Не использовать базу данных. Все данные должны храниться в памяти в процессе работы приложения (можно использовать redis или какой-либо in-memory механизм).
4. Запрещается использовать ORM.
5. Для работы с данными заказа использовать паттерн Repository, но без использования базы данных.
6. Для передачи данных междуслоями использовать паттерн DTO (Data Transfer Object).
7. Внедрение зависимостей должно быть реализовано через DI (Dependency Injection).
8. Соблюдать принципы SOLID.
9. Необходимо наличие минимум одной модели - Order и хотя бы одного ValueObject.
10. Заказ может содержать несколько товаров. Суммарное количество всех единиц, не должно превышать 10, в период с 10.09.2024 по 10.10.2024 при создании заказа (определять по дате создания заказа).
11. В заказе не должно быть дублирующих товаров, проверка должна происходить по наименованию и цене, если оба свойства совпадают, то товары считаются дубликатами.
12. Обработка ошибок и исключений должна быть корректно реализована:
    * Если заказ с данным ID не найден, возвращать соответствующее сообщение об ошибке.
    * Если суммарное количество единиц товаров больше 10 в указанный период, при создании заказа,  возвращать ошибку.
    * Если найдены дубликаты товаров, при создании, возвращать ошибку.
13. Необходимо покрыть основные методы тестами с использованием встроенного инструментария тестирования Laravel.

### Консольные команды:

#### Создать заказ:

    php artisan order:create --created_at="{datetime}" --product="{name}:{unit_price}:{quantity}"

* created_at – дата создания в формате d.m.Y hh:mm:ss.
* name – наименование товара.
* unit_price – цена за единицу товара.
* quantity – количество единиц товара.

Можно использовать prompt. Главное, что бы можно было создать заказ с несколькими товарами.

#### Получить список всех заказов:

    php artisan order:list

Выводит список всех заказов с их ID, датой создания, количеством товаров, суммой единиц товаров, общей стоимостью.

#### Получить детали заказа:

    php artisan order:show {order_id}

Выводит детали заказа по ID:
* ID
* Дата создания.
* Товары
  * Наименование товара.
  * Цена за единицу.
  * Количество единиц товаров.
* Количество товаров.
* Сумма единиц товаров.
* Общая стоимость.

Если заказ с данным ID не найден, выводить сообщение об ошибке.

### Ожидаемые файлы:
* Dockerfile и docker-compose.yml для запуска приложения.
* Исходный код с корректной архитектурой (DTO, Repository, DI, SOLID).
* Наличие UNIT тестов для основных методов.

### Что необходимо сдать:
* Исходный код проекта на GitHub или любом другом git-репозитории.
* Инструкции по запуску проекта через Docker (файл README.md).
* Описание решения и использованных подходов.

### Оценочное время выполнения:
Не более 4 часов. Удачи!